{"ast":null,"code":"import { AsyncPipe, DatePipe, NgIf } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { inject } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ProgramService } from '../services/program.service';\nimport { StudentDetail } from '../models/student';\nimport * as i0 from \"@angular/core\";\nconst _c0 = a0 => [\"/students\", a0, \"needs\"];\nconst _c1 = a0 => [\"/students\", a0, \"assignments\"];\nconst _c2 = a0 => [\"/students\", a0, \"goals\"];\nconst _c3 = a0 => [\"/students\", a0, \"progress\"];\nconst _c4 = a0 => [\"/students\", a0, \"assignments\", \"new\"];\nfunction StudentDetailPageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 2)(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\")(6, \"span\");\n    i0.ɵɵtext(7, \"Local ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\")(11, \"span\");\n    i0.ɵɵtext(12, \"Grade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"strong\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\")(16, \"span\");\n    i0.ɵɵtext(17, \"Campus\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"strong\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\")(21, \"span\");\n    i0.ɵɵtext(22, \"Program Focus\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"strong\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\")(26, \"span\");\n    i0.ɵɵtext(27, \"Guardian Contact\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"strong\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\")(31, \"span\");\n    i0.ɵɵtext(32, \"Enrollment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"strong\");\n    i0.ɵɵtext(34);\n    i0.ɵɵpipe(35, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\")(37, \"span\");\n    i0.ɵɵtext(38, \"Next Review\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"strong\");\n    i0.ɵɵtext(40);\n    i0.ɵɵpipe(41, \"date\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(42, \"div\", 4)(43, \"div\", 5)(44, \"span\");\n    i0.ɵɵtext(45, \"Needs Assessments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"strong\");\n    i0.ɵɵtext(47);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"div\", 5)(49, \"span\");\n    i0.ɵɵtext(50, \"Goals\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"strong\");\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(53, \"div\", 5)(54, \"span\");\n    i0.ɵɵtext(55, \"Latest Progress\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"strong\");\n    i0.ɵɵtext(57);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const student_r1 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", student_r1.firstName, \" \", student_r1.lastName, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(student_r1.localId);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(student_r1.gradeLevel);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(student_r1.campus);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(student_r1.programFocus || \"\\u2014\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(student_r1.guardianContact);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(35, 12, student_r1.enrollmentDate));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(41, 14, student_r1.nextReviewDate, \"shortDate\" || \"TBD\"));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate((student_r1.needsAssessments == null ? null : student_r1.needsAssessments.length) || 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate((student_r1.goals == null ? null : student_r1.goals.length) || 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.latestProgress(student_r1) || \"\\u2014\");\n  }\n}\nfunction StudentDetailPageComponent_nav_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nav\", 6)(1, \"a\", 7);\n    i0.ɵɵtext(2, \"Needs\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 7);\n    i0.ɵɵtext(4, \"Assignments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 7);\n    i0.ɵɵtext(6, \"Goals\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"a\", 7);\n    i0.ɵɵtext(8, \"Progress\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 7);\n    i0.ɵɵtext(10, \"New Assignment\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const id_r3 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c0, id_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c1, id_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c2, id_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(11, _c3, id_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(13, _c4, id_r3));\n  }\n}\nexport let StudentDetailPageComponent = /*#__PURE__*/(() => {\n  class StudentDetailPageComponent {\n    constructor() {\n      this.route = inject(ActivatedRoute);\n      this.api = inject(ProgramService);\n      this.studentId = this.route.snapshot.paramMap.get('id');\n      this.student$ = this.api.getStudent(this.studentId);\n    }\n    latestProgress(student) {\n      const all = (student.goals || []).flatMap(g => g.progressUpdates || []);\n      if (!all.length) return null;\n      const latest = all.sort((a, b) => a.recordedAt < b.recordedAt ? 1 : -1)[0];\n      return latest?.recordedAt ?? null;\n    }\n    static {\n      this.ɵfac = function StudentDetailPageComponent_Factory(t) {\n        return new (t || StudentDetailPageComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: StudentDetailPageComponent,\n        selectors: [[\"app-student-detail-page\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 3,\n        vars: 4,\n        consts: [[4, \"ngIf\"], [\"class\", \"card student-nav\", 4, \"ngIf\"], [1, \"card\", \"student-overview\"], [1, \"overview-grid\"], [\"aria-label\", \"Student data summary\", 1, \"card\", \"stats\"], [1, \"stat\"], [1, \"card\", \"student-nav\"], [3, \"routerLink\"]],\n        template: function StudentDetailPageComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, StudentDetailPageComponent_ng_container_0_Template, 58, 17, \"ng-container\", 0);\n            i0.ɵɵpipe(1, \"async\");\n            i0.ɵɵtemplate(2, StudentDetailPageComponent_nav_2_Template, 11, 15, \"nav\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.student$));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.studentId);\n          }\n        },\n        dependencies: [NgIf, AsyncPipe, DatePipe, RouterLink],\n        styles: [\"textarea[_ngcontent-%COMP%]{min-height:80px;width:100%;padding:.5rem;border:1px solid #b5c7e7;border-radius:4px;font-family:inherit}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{background:#f7f9ff;padding:.75rem;border-radius:6px;margin-bottom:.75rem}.goal[_ngcontent-%COMP%]{margin-bottom:1.5rem}.grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.status[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-end}.status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:center}.tag[_ngcontent-%COMP%]{display:inline-block;margin-top:.25rem;background:#e4edff;padding:.25rem .5rem;border-radius:999px;font-size:.75rem;color:#274684}.overview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:.75rem}.overview-grid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#5c6f92}.overview-grid[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}.stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:.75rem}.stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#5c6f92}.stat[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.25rem}.student-nav[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:.5rem}.student-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem .75rem;background:#f7f9ff;border:1px solid #b5c7e7;border-radius:6px;color:#274684;text-decoration:none}.student-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#eaf1ff}\"]\n      });\n    }\n  }\n  return StudentDetailPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}